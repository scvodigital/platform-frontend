{
    "size": 10,
    "from": {{multiply (subtract (default query.page 1) 1) 10}},
    "_source": [
        "title",
        "rendered.scvo_search_result"
    ],
    "query": {
        "bool": {
            {{#if query.type}}
            "must": [
                {
                    "term": {
                        "_type": {
                            "value" : "{{query.type}}"
                        }
                    }
                }
            ],
            {{/if}}
            "should": [
                {
                    "query_string": {
                        "query": "{{query.q}}",
                        "default_field": "text_bag",
                        "default_operator": "AND",
                        "analyzer": "snowball"
                    }
                },
                {
                    "query_string": {
                        "query": "{{query.q}}",
                        "default_field": "text_bag_boost",
                        "default_operator": "AND",
                        "analyzer": "snowball",
                        "boost": 10
                    }
                },
                {
                    "term" : {
                        "_type" : {
                            "value" : "scvo-cms-post",
                            "boost" : 5.0
                        }
                    }
                },
                {
                    "term" : {
                        "_type" : {
                            "value" : "scvo-event",
                            "boost" : 4.0
                        }
                    }
                },
                {
                    "term" : {
                        "_type" : {
                            "value" : "scvo-cms-page",
                            "boost" : 8.0
                        }
                    }
                },
                {
                    "term" : {
                        "_type" : {
                            "value" : "goodhq-organisation",
                            "boost" : 1.5
                        }
                    }
                }
            ]
        }
    }
}
