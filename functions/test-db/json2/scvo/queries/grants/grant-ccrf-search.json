{
    "size": 24,
    "from": {{multiply (subtract (default query.page 1) 1) 24}},
    "_source": [
        "rendered.scvo_list",
        "rendered.scvo_card",
        "rendered.json_ld"
    ],
    "query": {
        "bool": {
            "must": [
                {{#ifAny query.call query.tag query.q}}
                {{#if query.call}}
                    {
                        "term": {
                            "call-slug": "{{query.call}}"
                        }
                    }
                    {{#if query.tag}},{{/if}}
                {{/if}}
                {{#if query.tag}}
                    {
                        "term": {
                            "individuals_supported-slugs": "{{query.tag}}"
                        }
                    }
                    {{#if query.q}},{{/if}}
                {{/if}}
                {{#if query.q}}
                    {
                        "query_string": {
                            "query": "{{query.q}}",
                            "default_operator": "AND",
                            "analyzer": "snowball"
                        }
                    }
                {{/if}}
                {{else}}
                {
                    "match_all": {}
                }
                {{/ifAny}}
            ]
        }
    },
    "sort": {
        "recipient_name": "asc"
    }
}
