{
    "size": 10,
    "from": {{multiply (subtract (default query.page 1) 1) 10}},
    "_source": [
        "rendered.list"
    ],
    "query": {
        "bool": {
            "must": [
                {
                    "term": {
                        "is_press_release": {{#compare path "===" "press-media"}}true{{else}}false{{/compare}}
                    }
                }
            ],
            "should": [
                {
                    "terms": {
                        "categories_id": [
                            {{join primaryResponse.hits.hits.[0]._source.categories_id}}
                        ]
                    }
                }
            ],
            "minimum_should_match": 1
        }
    },
    "sort": {
        "publish_on": "desc"
    }
}
