{
  "name": "@scvo/frontend",
  "version": "0.0.1",
  "description": "The App Engine service that runs the SCVO=>Router",
  "main": "build/index.js",
  "engines": {
    "node": ">=8.11.1"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\"",
    "cleanup": "rm -rf ./build/**",
    "copy": "cp -r ./assets ./build/assets",
    "sass": "node_modules/node-sass/bin/node-sass --include-path=./node_modules ./build/assets/css -o build/assets/css",
    "upgrade-router": "yarn add -E @scvo/router @scvo/router-task-firebase @scvo/router-task-elasticsearch @scvo/router-destination-handlebars @scvo/router-destination-redirect",
    "build": "npm run cleanup; npm run compile; npm run build-db; npm run copy; npm run sass; npm run uglify",
    "secrets": "tar cvf secrets.tar app-engine-service-account.json src/secrets.ts src/analytics-secrets.ts; travis encrypt-file --no-interactive -f secrets.tar",
    "build-db": "node_modules/@scvo/json-inc/bin/json-inc compile --input ./sites/sites.inc.json --output ./sites/sites.json",
    "start": "yarn; npm run build; node build/index.js",
    "dev": "npm run build; npm run assets; devmode=true node build/index.js",
    "dev-router": "npm run router; npm run dev",
    "deploy-dispatch": "gcloud app deploy dispatch.yaml --quiet",
    "clear-cache": "curl -s https://scvo.org.uk/reload-sites",
    "deploy-db": "npm run build-db && npm run bump-assets-version && firebase database:set -y /contexts ./sites/sites.json && npm run clear-cache",
    "deploy-app": "npm run build; npm run secrets; npm run deploy-dispatch; gcloud beta app deploy --quiet; npm run deploy-db",
    "bump-assets-version": "cd ../assets && git pull && cd ../frontend && node bump-assets-version.js",
    "router": "cd ../router2; npm run link; cd ../frontend;",
    "check": "gts fix; gts check",
    "clean": "gts clean",
    "compile": "node_modules/typescript/bin/tsc -p .",
    "fix": "gts fix",
    "prepare": "npm run compile",
    "pretest": "npm run compile",
    "posttest": "npm run check",
    "assets": "mkdir -p build/assets/digitalparticipation build/assets/fundingscotland build/assets/getinvolved build/assets/goodmoves build/assets/humanrightsdeclaration build/assets/scotlandforeurope build/assets/scvo; cd ../assets; npm run dev; cp build/digitalparticipation/*.* ../frontend/build/assets/digitalparticipation/; cp build/fundingscotland/*.* ../frontend/build/assets/fundingscotland/; cp build/getinvolved/*.* ../frontend/build/assets/getinvolved/; cp build/goodmoves/*.* ../frontend/build/assets/goodmoves/; cp build/humanrightsdeclaration/*.* ../frontend/build/assets/humanrightsdeclaration/; cp build/scotlandforeurope/*.* ../frontend/build/assets/scotlandforeurope/; cp build/scvo/*.* ../frontend/build/assets/scvo/; cd ../frontend;",
    "uglify": "npm run uglify-fundingscotland-main; npm run uglify-fundingscotland-search; npm run uglify-fundingscotland-home",
    "uglify-fundingscotland-main": "node_modules/uglify-js/bin/uglifyjs --compress --output=./build/assets/js/fundingscotland/main.js ./build/assets/js/cookieinfo.min.js ./build/assets/js/class-inheritance.js ./build/assets/js/fundingscotland/site-controller.js",
    "uglify-fundingscotland-home": "node_modules/uglify-js/bin/uglifyjs --compress --output=./build/assets/js/fundingscotland/home.js ./build/assets/js/fundingscotland/typeahead-controller.js ./build/assets/js/fundingscotland/home-controller.js",
    "uglify-fundingscotland-search": "node_modules/uglify-js/bin/uglifyjs --compress --output=./build/assets/js/fundingscotland/search.js ./build/assets/js/fundingscotland/typeahead-controller.js ./build/assets/js/fundingscotland/search-controller.js"
  },
  "author": "Matthew Wilkes (https://scvo.org.uk)",
  "license": "GPL-3.0",
  "dependencies": {
    "@elastic/datemath": "^4.0.2",
    "@scvo/json-inc": "^0.0.15",
    "@scvo/router": "^1.2.38",
    "@scvo/router-destination-handlebars": "0.0.29",
    "@scvo/router-destination-redirect": "0.0.7",
    "@scvo/router-task-elasticsearch": "0.0.16",
    "@scvo/router-task-firebase": "0.0.2",
    "@scvo/router-task-mysql": "^0.0.3",
    "@scvo/router-task-transform": "^0.0.3",
    "@types/body-parser": "^1.16.8",
    "@types/chalk": "^2.2.0",
    "@types/chokidar": "^1.7.5",
    "@types/compression": "^0.0.35",
    "@types/cookie-parser": "^1.4.1",
    "@types/cors": "^2.8.3",
    "@types/deep-diff": "^0.0.31",
    "@types/dot-object": "^1.5.0",
    "@types/elasticsearch": "^5.0.22",
    "@types/express": "^4.11.1",
    "@types/handlebars": "^4.0.38",
    "@types/jsforce": "^1.8.10",
    "@types/json-stringify-safe": "^5.0.0",
    "@types/node": "^9.6.5",
    "@types/q": "^1.0.7",
    "@types/request": "^2.47.0",
    "@types/sqlstring": "^2.2.0",
    "@types/string": "^0.0.29",
    "arr-diff": "^4.0.0",
    "body-parser": "^1.18.2",
    "chalk": "^2.3.1",
    "chokidar": "^2.0.4",
    "clayhandlebars": "^3.2.3",
    "compression": "^1.7.2",
    "cookie-parser": "^1.4.3",
    "cors": "^2.8.4",
    "date-fns": "^1.29.0",
    "deep-diff": "^1.0.1",
    "dot-object": "^1.7.0",
    "express": "^4.16.2",
    "firebase-admin": "^5.12.1",
    "googleapis": "^30.0.0",
    "gts": "^0.5.4",
    "handlebars": "^4.0.11",
    "jsforce": "^1.8.4",
    "json-stringify-safe": "^5.0.1",
    "livereload": "^0.7.0",
    "markdown": "^0.5.0",
    "material-components-web": "~0.37.1",
    "moment": "^2.22.2",
    "node-sass": "^4.7.2",
    "nsfw": "^1.0.16",
    "pdfmake": "^0.1.36",
    "sqlstring": "^2.3.1",
    "string": "^3.3.3",
    "string-strip-html": "^3.1.0",
    "typescript": "^2.9.2",
    "uglify-js": "^3.4.3"
  }
}
