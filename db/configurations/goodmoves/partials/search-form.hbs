<h2 class="mdc-card__title mdc-card__title--large">Search jobs</h2>
<form action="/search" method="GET" [searchroute]="'search'" data-auto-search="true">
  <div class="mdc-textfield mdc-textfield--upgraded">
    <label class="mdc-textfield__label" for="q">Keywords</label>
    <input type="text" class="mdc-textfield__input" name="q" id="jobs-keywords" placeholder="Keywords" value="{{request.params.query.q}}">
  </div>
  <div class="mdc-form-field">
    <label class="mdc-textfield__label" for="role">Role</label>
    <select class="mdc-select" role="listbox" id="jobs-role" name="role">
      <option value="" {{#if request.params.query.role}}{{else}}selected{{/if}}>Any role</option>
      {{#each data.supplimentaryResponses.types.aggregations.roles.buckets ~}}
      <option value="{{key}}" {{#compare ../request.params.query.role "===" key}}selected{{/compare}}>{{key}}</option>
      {{/each ~}}
    </select>
  </div>
  <div class="mdc-form-field">
    <label class="mdc-textfield__label" for="sector">Sector</label>
    <select class="mdc-select" role="listbox" id="jobs-sector" name="sector">
      <option value="" {{#if request.params.query.sector}}{{else}}selected{{/if}}>Any sector</option>
      {{#each data.supplimentaryResponses.types.aggregations.sectors.buckets ~}}
      {{#if key ~}}
      <option value="{{key}}" {{#compare ../request.params.query.sector "===" key}}selected{{/compare}}>{{key}}</option>
      {{/if ~}}
      {{/each ~}}
    </select>
  </div>
  <div class="mdc-form-field">
    <label class="mdc-textfield__label" for="jobs-region">Region</label>
    <select class="mdc-select" role="listbox" id="region" name="region">
      <option value="" {{#if request.params.query.region}}{{else}}selected{{/if}}>Any region</option>
      {{#each data.supplimentaryResponses.types.aggregations.regions.buckets ~}}
      {{#if key ~}}
      <option value="{{key}}" {{#compare ../request.params.query.region "===" key}}selected{{/compare}}>{{key}}</option>
      {{/if ~}}
      {{/each ~}}
    </select>
  </div>
  <div class="mdc-form-field">
    <label class="mdc-textfield__label" for="status">Status</label>
    <select class="mdc-select" role="listbox" id="jobs-status" name="status">
      <option value="" {{#if request.params.query.status}}{{else}}selected{{/if}}>Any status</option>
      {{#each data.supplimentaryResponses.types.aggregations.statuses.buckets ~}}
      {{#if key ~}}
      <option value="{{key}}" {{#compare ../request.params.query.status "===" key}}selected{{/compare}}>{{key}}</option>
      {{/if ~}}
      {{/each ~}}
    </select>
  </div>
  <div class="mdc-textfield mdc-textfield--upgraded">
    <label class="mdc-textfield__label" for="minimum_salary">Minimum salary</label>
    <input type="text" class="mdc-textfield__input" name="minimum_salary" id="jobs-minimum_salary" placeholder="e.g. 32000" value="{{request.params.query.minimum_salary}}">
  </div>
  <button class="mdc-button mdc-button--raised" type="submit">
    Search jobs
  </button>
</form>
